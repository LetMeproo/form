<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>بوابة الشركة — الحضور والانصراف</title>
    <meta name="description" content="صفحة هبوط أنيقة مع زر لتسجيل الحضور والانصراف عبر نموذج آمن، وزر ثانٍ للوحة المشرف." />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Tailwind config (optional fine-tuning)
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Tajawal", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Ubuntu", "Cantarell", "Noto Sans", "Helvetica Neue", "Arial", "\"Apple Color Emoji\"", "\"Segoe UI Emoji\""],
            },
            boxShadow: {
              soft: "0 10px 25px rgba(0,0,0,0.08)",
            },
            backgroundImage: {
              'mesh': "radial-gradient(1200px 600px at 80% -10%, rgba(34,197,94,0.12), transparent 60%), radial-gradient(900px 500px at -10% 20%, rgba(59,130,246,0.14), transparent 60%), radial-gradient(700px 400px at 110% 80%, rgba(168,85,247,0.15), transparent 60%)",
            },
          },
        },
      };
    </script>

    <!-- Google Fonts: Tajawal -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

    <style>
      /* Smooth backdrop blur for the hero card */
      .glass {
        background: rgba(255, 255, 255, 0.72);
        backdrop-filter: saturate(140%) blur(14px);
        -webkit-backdrop-filter: saturate(140%) blur(14px);
      }
      /* Hide scroll when modal open */
      body.modal-open { overflow: hidden; }
    </style>
  </head>
  <body class="min-h-screen bg-slate-50 bg-mesh font-sans text-slate-800 selection:bg-indigo-200 selection:text-slate-900">
    <!-- Navbar (optional) -->
    <header class="w-full">
      <nav class="max-w-6xl mx-auto px-4 md:px-6 py-5 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span class="inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-tr from-indigo-500 to-emerald-500 text-white font-extrabold shadow-soft">ب</span>
          <span class="text-lg md:text-xl font-extrabold tracking-tight">بوابة شركة سماو </span>
        </div>
        <div class="hidden sm:flex items-center gap-6 text-sm text-slate-600">
          <a href="#features" class="hover:text-slate-900 transition">المميزات</a>
          <a href="#faq" class="hover:text-slate-900 transition">الأسئلة</a>
          <a href="#contact" class="hover:text-slate-900 transition">تواصل</a>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <main class="relative">
      <section class="max-w-6xl mx-auto px-4 md:px-6 pt-8 pb-20 md:pt-16 md:pb-28">
        <div class="grid md:grid-cols-2 gap-10 items-center">
          <!-- Text -->
          <div>
            <div class="inline-flex items-center gap-2 rounded-full bg-white/80 border border-slate-200 px-3 py-1 text-xs md:text-sm shadow-soft mb-5">
              <span class="inline-block h-2 w-2 rounded-full bg-emerald-500"></span>
              نظام حضور وانصراف بسيط وآمن
            </div>
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-black leading-tight text-slate-900">
              إدارة حضور الموظفين <span class="bg-gradient-to-r from-indigo-600 to-emerald-600 bg-clip-text text-transparent">بدون تعقيد</span>
            </h1>
            <p class="mt-4 text-base md:text-lg text-slate-600 leading-8">
              صفحة هبوط خفيفة مع زر يفتح نموذج حضور/انصراف لا يسمح للموظفين بتعديل أي بيانات في جداول الشركة. البيانات تُسجَّل بأمان عبر نموذج مستقل.
            </p>

            <!-- CTA Buttons -->
            <div class="mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4">
              <button id="openAttendance" class="group inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-3 md:px-6 md:py-3.5 text-base md:text-lg font-bold text-white bg-gradient-to-r from-indigo-600 to-emerald-600 shadow-soft hover:shadow-md hover:opacity-95 active:opacity-90 transition">
                تسجيل الحضور / الانصراف
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition group-hover:translate-x-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.7">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </button>

              <a id="adminLink" href="#" class="inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-3 md:px-6 md:py-3.5 text-base md:text-lg font-bold text-indigo-700 bg-white border border-indigo-200 hover:border-indigo-300 hover:bg-indigo-50 shadow-soft transition">
                الوصول للملف الوظيفي
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2a10 10 0 100 20 10 10 0 000-20zm1 5a1 1 0 10-2 0v6a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L13 12.586V7z"/>
                </svg>
              </a>
            </div>

            <!-- Trust badges (optional) -->
            <div class="mt-6 flex flex-wrap items-center gap-3 text-xs text-slate-500">
              <span class="inline-flex items-center gap-2 rounded-xl bg-white/80 border border-slate-200 px-3 py-1"><span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>بدون صلاحيات تعديل للموظفين</span>
              <span class="inline-flex items-center gap-2 rounded-xl bg-white/80 border border-slate-200 px-3 py-1">تسجيل سريع من أي جهاز</span>
              <span class="inline-flex items-center gap-2 rounded-xl bg-white/80 border border-slate-200 px-3 py-1">تصميم حديث وخفيف</span>
            </div>
          </div>

          <!-- Illustration / Card -->
          <div class="glass rounded-3xl p-6 md:p-8 border border-white/60 shadow-soft">
            <div class="grid grid-cols-2 gap-4">
              <div class="rounded-2xl bg-gradient-to-br from-indigo-100 to-white p-4 border border-indigo-200">
                <div class="text-sm text-slate-600 mb-2">إجمالي الموظفين</div>
                <div class="text-3xl font-extrabold">18</div>
              </div>
              <!-- <div class="rounded-2xl bg-gradient-to-br from-emerald-100 to-white p-4 border border-emerald-200">
                <div class="text-sm text-slate-600 mb-2">حضور اليوم</div>
                <div class="text-3xl font-extrabold" id="todayCount">—</div>
              </div> -->
              <div class="col-span-2 rounded-2xl bg-white p-4 border border-slate-200">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm text-slate-600">آخر تحديث</span>
                  <span id="lastUpdated" class="text-xs text-slate-500">—</span>
                </div>
                <div class="h-2 w-full rounded-full bg-slate-100 overflow-hidden">
                  <div id="progressBar" class="h-2 w-0 bg-gradient-to-r from-indigo-500 to-emerald-500"></div>
                </div>
              </div>
            </div>
            <p class="mt-4 text-sm text-slate-500">* الأرقام توضيحية. يمكن ربط القسم بتقارير فعلية لاحقًا.</p>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section id="features" class="max-w-6xl mx-auto px-4 md:px-6 pb-24">
        <div class="grid md:grid-cols-3 gap-6">
          <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
            <h3 class="text-lg font-extrabold mb-2">حماية البيانات</h3>
            <p class="text-slate-600">التسجيل عبر نموذج معزول يكتب في الشيت بدون منح أي صلاحيات تعديل للموظفين.</p>
          </div>
          <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
            <h3 class="text-lg font-extrabold mb-2">سهل الاستخدام</h3>
            <p class="text-slate-600">زر واحد للحضور/الانصراف يعمل على الكمبيوتر والجوال.</p>
          </div>
          <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
            <h3 class="text-lg font-extrabold mb-2">جاهز للتوسع</h3>
            <p class="text-slate-600">يمكن إضافة قيود الموقع، رقم الموظف، أو صورة سيلفي لاحقًا.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer id="contact" class="border-t border-slate-200/70 bg-white/70">
      <div class="max-w-6xl mx-auto px-4 md:px-6 py-8 text-sm text-slate-500 flex flex-col sm:flex-row gap-3 sm:gap-6 justify-between items-center">
        <div>© <span id="year"></span> شركة سماو . جميع الحقوق محفوظة.</div>
        <div class="flex items-center gap-4">
          <a class="hover:text-slate-800" href="mailto:hr@example.com">smaww.com</a>
          <span class="text-slate-300">|</span>
          <a class="hover:text-slate-800" href="tel:+201000000000">+966554520700</a>
        </div>
      </div>
    </footer>

    <!-- Attendance Modal -->
    <div id="attendanceModal" class="fixed inset-0 z-50 hidden" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="absolute inset-0 bg-slate-900/60"></div>
      <div class="relative mx-auto max-w-3xl h-[85vh] mt-10 bg-white rounded-3xl shadow-2xl border border-slate-200 flex flex-col">
        <div class="px-5 py-4 border-b border-slate-200 flex items-center justify-between">
          <h2 class="text-lg md:text-xl font-extrabold text-slate-900">تسجيل الحضور / الانصراف</h2>
          <button id="closeAttendance" class="inline-flex items-center justify-center rounded-xl border border-slate-200 px-3 py-1.5 text-slate-600 hover:bg-slate-50">إغلاق</button>
        </div>
        <div class="flex-1 overflow-hidden">
          <!--
            ضع رابط نموذج Google Forms هنا في src أدناه.
            1) أنشئ Google Form يحفظ النتائج في Google Sheet.
            2) اجعل صلاحيات الشيت "خاص" أو للمشرفين فقط (لا تشاركها مع الموظفين).
            3) شارك فقط رابط النموذج، أو ضعه داخل هذه النافذة المنبثقة.
          -->
          <iframe id="formFrame" src="https://docs.google.com/forms/d/e/FORM_ID/viewform?embedded=true" class="w-full h-full" frameborder="0" allowfullscreen referrerpolicy="no-referrer"></iframe>
        </div>
      </div>
    </div>

    <script>
      // ===== Util: Animate demo progress and timestamps =====
      const todayCountEl = document.getElementById('todayCount');
      const lastUpdatedEl = document.getElementById('lastUpdated');
      const progressBarEl = document.getElementById('progressBar');
      const yearEl = document.getElementById('year');
      const now = new Date();
      yearEl.textContent = now.getFullYear();
      lastUpdatedEl.textContent = new Intl.DateTimeFormat('ar-EG', { dateStyle: 'medium', timeStyle: 'short' }).format(now);
      // Demo numbers only
      const demo = Math.floor(Math.random() * 18) + 18; // 18–35
      todayCountEl.textContent = demo;
      progressBarEl.style.width = Math.min(100, Math.round((demo/42)*100)) + '%';

      // ===== Modal open/close =====
      const body = document.body;
      const modal = document.getElementById('attendanceModal');
      const openBtn = document.getElementById('openAttendance');
      const closeBtn = document.getElementById('closeAttendance');
      const formFrame = document.getElementById('formFrame');
      const adminLink = document.getElementById('adminLink');

      // Replace with your URLs
      const FORM_URL = 'https://forms.gle/vHLTFPecqijVEYGU7';
      const ADMIN_DASHBOARD_URL = 'https://ocean67-hr.com/login'; // أو رابط Google Sheet (عرض فقط)

      // Set URLs
      formFrame.src = FORM_URL;
      adminLink.href = ADMIN_DASHBOARD_URL;

      function openModal() {
        modal.classList.remove('hidden');
        body.classList.add('modal-open');
        // Focus the frame for accessibility
        setTimeout(() => formFrame?.focus?.(), 50);
      }
      function closeModal() {
        modal.classList.add('hidden');
        body.classList.remove('modal-open');
      }
      openBtn.addEventListener('click', openModal);
      closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });
      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
      });

      // ===== Optional: pass user agent & time as form query params (if fields exist pre-filled) =====
      // لإرسال معرف الجهاز/الوقت إلى حقول مخفية في Google Form، أنشئ حقول "إجابة قصيرة" واجعلها أسئلة غير مطلوبة،
      // ثم استخرج أسماء مفاتيح prefill من ميزة "الحصول على رابط مُسبق التعبئة" في Google Forms.
      // بعد ذلك، عيّن القيم بالأسفل.
      const PREFILL_KEYS = {
        // مثال: employeeId: 'entry.1234567890',
        //       device: 'entry.0987654321',
        //       time: 'entry.1122334455'
      };
      function withPrefill(url, params) {
        const u = new URL(url);
        Object.entries(params).forEach(([k,v]) => {
          if (!PREFILL_KEYS[k]) return;
          u.searchParams.set(PREFILL_KEYS[k], v);
        });
        return u.toString();
      }
      // مثال تعبئة تلقائية بالوقت والجهاز (لو أضفت المفاتيح):
      // const prefilled = withPrefill(FORM_URL, { device: navigator.userAgent, time: new Date().toISOString() });
      // formFrame.src = prefilled;
    </script>
  </body>
</html>

